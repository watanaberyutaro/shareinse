{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/watanaberyuutarou/Desktop/3125%E6%98%A0%E5%83%8F/myProject/shareinse/assign-management/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\nimport type { Database } from '@/types/database'\n\nexport function createClient() {\n  return createBrowserClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}"],"names":[],"mappings":";;;AAAA;AAAA;;AAGO,SAAS;IACd,OAAO,CAAA,GAAA,0KAAA,CAAA,sBAAmB,AAAD;AAI3B","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/watanaberyuutarou/Desktop/3125%E6%98%A0%E5%83%8F/myProject/shareinse/assign-management/app/login/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/client'\nimport { Mail, Lock, Loader2, User, UserPlus } from 'lucide-react'\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const supabase = createClient()\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [success, setSuccess] = useState<string | null>(null)\n  const [isSignUp, setIsSignUp] = useState(false)\n  \n  // フォームフィールド\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      })\n\n      if (error) {\n        setError('メールアドレスまたはパスワードが正しくありません')\n        return\n      }\n\n      if (data.user) {\n        router.push('/dashboard')\n        router.refresh()\n      }\n    } catch (err) {\n      setError('ログインに失敗しました')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleSignUp = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n    setSuccess(null)\n\n    // バリデーション\n    if (password !== confirmPassword) {\n      setError('パスワードが一致しません')\n      setIsLoading(false)\n      return\n    }\n\n    if (password.length < 6) {\n      setError('パスワードは6文字以上で設定してください')\n      setIsLoading(false)\n      return\n    }\n\n    try {\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          data: {\n            display_name: displayName || email.split('@')[0],\n          },\n        },\n      })\n\n      if (error) {\n        if (error.message.includes('already registered')) {\n          setError('このメールアドレスは既に登録されています')\n        } else {\n          setError('登録に失敗しました: ' + error.message)\n        }\n        return\n      }\n\n      if (data.user) {\n        setSuccess('登録が完了しました！確認メールをご確認ください。')\n        // 登録後、自動的にログインフォームに切り替え\n        setTimeout(() => {\n          setIsSignUp(false)\n          setSuccess(null)\n        }, 3000)\n      }\n    } catch (err) {\n      setError('登録に失敗しました')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n            アサイン管理システム\n          </h1>\n          <p className=\"text-gray-600\">\n            {isSignUp ? '新規アカウントを作成' : 'ログインしてください'}\n          </p>\n        </div>\n\n        {/* タブ切り替え */}\n        <div className=\"flex mb-6 border-b border-gray-200\">\n          <button\n            onClick={() => {\n              setIsSignUp(false)\n              setError(null)\n              setSuccess(null)\n            }}\n            className={`flex-1 py-2 px-4 text-center font-medium transition ${\n              !isSignUp\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <User className=\"inline-block h-4 w-4 mr-2\" />\n            ログイン\n          </button>\n          <button\n            onClick={() => {\n              setIsSignUp(true)\n              setError(null)\n              setSuccess(null)\n            }}\n            className={`flex-1 py-2 px-4 text-center font-medium transition ${\n              isSignUp\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <UserPlus className=\"inline-block h-4 w-4 mr-2\" />\n            新規登録\n          </button>\n        </div>\n\n        {success && (\n          <div className=\"bg-green-50 text-green-600 p-3 rounded-lg text-sm mb-4\">\n            {success}\n          </div>\n        )}\n\n        {error && (\n          <div className=\"bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-4\">\n            {error}\n          </div>\n        )}\n\n        {/* ログインフォーム */}\n        {!isSignUp ? (\n          <form onSubmit={handleLogin} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                メールアドレス\n              </label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  placeholder=\"email@example.com\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                パスワード\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  placeholder=\"パスワードを入力\"\n                  required\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"animate-spin h-5 w-5 mr-2\" />\n                  ログイン中...\n                </>\n              ) : (\n                'ログイン'\n              )}\n            </button>\n\n            <div className=\"text-center\">\n              <a href=\"#\" className=\"text-sm text-blue-600 hover:underline\">\n                パスワードをお忘れの方\n              </a>\n            </div>\n          </form>\n        ) : (\n          /* 新規登録フォーム */\n          <form onSubmit={handleSignUp} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"signup-name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                表示名\n              </label>\n              <div className=\"relative\">\n                <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  id=\"signup-name\"\n                  type=\"text\"\n                  value={displayName}\n                  onChange={(e) => setDisplayName(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  placeholder=\"山田太郎\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"signup-email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                メールアドレス\n              </label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  id=\"signup-email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  placeholder=\"email@example.com\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"signup-password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                パスワード\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  id=\"signup-password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  placeholder=\"6文字以上のパスワード\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"signup-confirm-password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                パスワード（確認）\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  id=\"signup-confirm-password\"\n                  type=\"password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  placeholder=\"パスワードを再入力\"\n                  required\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"animate-spin h-5 w-5 mr-2\" />\n                  登録中...\n                </>\n              ) : (\n                <>\n                  <UserPlus className=\"h-5 w-5 mr-2\" />\n                  新規登録\n                </>\n              )}\n            </button>\n\n            <p className=\"text-xs text-gray-500 text-center\">\n              登録することで、利用規約とプライバシーポリシーに同意したものとみなされます\n            </p>\n          </form>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD;IAC5B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,YAAY;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;gBAC7D;gBACA;YACF;YAEA,IAAI,OAAO;gBACT,SAAS;gBACT;YACF;YAEA,IAAI,KAAK,IAAI,EAAE;gBACb,OAAO,IAAI,CAAC;gBACZ,OAAO,OAAO;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,aAAa;QACb,SAAS;QACT,WAAW;QAEX,UAAU;QACV,IAAI,aAAa,iBAAiB;YAChC,SAAS;YACT,aAAa;YACb;QACF;QAEA,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,SAAS;YACT,aAAa;YACb;QACF;QAEA,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;gBACjD;gBACA;gBACA,SAAS;oBACP,MAAM;wBACJ,cAAc,eAAe,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;oBAClD;gBACF;YACF;YAEA,IAAI,OAAO;gBACT,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,uBAAuB;oBAChD,SAAS;gBACX,OAAO;oBACL,SAAS,gBAAgB,MAAM,OAAO;gBACxC;gBACA;YACF;YAEA,IAAI,KAAK,IAAI,EAAE;gBACb,WAAW;gBACX,wBAAwB;gBACxB,WAAW;oBACT,YAAY;oBACZ,WAAW;gBACb,GAAG;YACL;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,8OAAC;4BAAE,WAAU;sCACV,WAAW,eAAe;;;;;;;;;;;;8BAK/B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;gCACP,YAAY;gCACZ,SAAS;gCACT,WAAW;4BACb;4BACA,WAAW,CAAC,oDAAoD,EAC9D,CAAC,WACG,6CACA,qCACJ;;8CAEF,8OAAC,kMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;gCAA8B;;;;;;;sCAGhD,8OAAC;4BACC,SAAS;gCACP,YAAY;gCACZ,SAAS;gCACT,WAAW;4BACb;4BACA,WAAW,CAAC,oDAAoD,EAC9D,WACI,6CACA,qCACJ;;8CAEF,8OAAC,8MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;gCAA8B;;;;;;;;;;;;;gBAKrD,yBACC,8OAAC;oBAAI,WAAU;8BACZ;;;;;;gBAIJ,uBACC,8OAAC;oBAAI,WAAU;8BACZ;;;;;;gBAKJ,CAAC,yBACA,8OAAC;oBAAK,UAAU;oBAAa,WAAU;;sCACrC,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAA+C;;;;;;8CAGhF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;sCAKd,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA+C;;;;;;8CAGnF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;sCAKd,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,0BACC;;kDACE,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;oCAA8B;;+CAInD;;;;;;sCAIJ,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,MAAK;gCAAI,WAAU;0CAAwC;;;;;;;;;;;;;;;;2BAMlE,YAAY,iBACZ,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAAc,WAAU;8CAA+C;;;;;;8CAGtF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4CAC9C,WAAU;4CACV,aAAY;;;;;;;;;;;;;;;;;;sCAKlB,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAAe,WAAU;8CAA+C;;;;;;8CAGvF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;sCAKd,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAAkB,WAAU;8CAA+C;;;;;;8CAG1F,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;sCAKd,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAA0B,WAAU;8CAA+C;;;;;;8CAGlG,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;4CAClD,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;sCAKd,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,0BACC;;kDACE,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;oCAA8B;;6DAInD;;kDACE,8OAAC,8MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;sCAM3C,8OAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;;;;;;;;;;;;AAQ7D","debugId":null}}]
}