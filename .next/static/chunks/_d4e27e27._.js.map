{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/watanaberyuutarou/Desktop/3125%E6%98%A0%E5%83%8F/myProject/shareinse/assign-management/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\nimport type { Database } from '@/types/database'\n\nexport function createClient() {\n  return createBrowserClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}"],"names":[],"mappings":";;;AAKI;AALJ;AAAA;;AAGO,SAAS;IACd,OAAO,CAAA,GAAA,6KAAA,CAAA,sBAAmB,AAAD;AAI3B","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/watanaberyuutarou/Desktop/3125%E6%98%A0%E5%83%8F/myProject/shareinse/assign-management/components/layout/Sidebar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname, useRouter } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/client'\nimport { useLoading } from '@/components/LoadingProvider'\nimport {\n  LayoutDashboard,\n  Users,\n  FileText,\n  User,\n  BarChart3,\n  Settings,\n  LogOut,\n  Menu,\n  X\n} from 'lucide-react'\nimport { useState, useEffect } from 'react'\n\nconst menuItems = [\n  { href: '/dashboard', label: 'ダッシュボード', icon: LayoutDashboard },\n  { href: '/assignments', label: 'アサイン管理', icon: Users },\n  { href: '/reports', label: 'レポート', icon: BarChart3 },\n  { href: '/mypage', label: 'マイページ', icon: User },\n]\n\nconst adminMenuItems = [\n  { href: '/admin/users', label: 'ユーザー管理', icon: Settings },\n  { href: '/admin/targets', label: '目標設定', icon: FileText },\n]\n\nexport default function Sidebar() {\n  const pathname = usePathname()\n  const router = useRouter()\n  const supabase = createClient()\n  const { setIsLoading: setPageLoading } = useLoading()\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\n  const [userRole, setUserRole] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const fetchUserRole = async () => {\n      const { data: { user } } = await supabase.auth.getUser()\n      if (user) {\n        const { data: profile } = await supabase\n          .from('profiles')\n          .select('role')\n          .eq('id', user.id)\n          .single()\n        \n        setUserRole(profile?.role || null)\n      }\n      setIsLoading(false)\n    }\n\n    fetchUserRole()\n  }, [])\n\n  const handleLogout = async () => {\n    setPageLoading(true)\n    await supabase.auth.signOut()\n    router.push('/login')\n  }\n\n  const handleLinkClick = () => {\n    setIsMobileMenuOpen(false)\n  }\n\n  return (\n    <>\n      {/* モバイルメニューボタン */}\n      <button\n        onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n        className=\"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md\"\n      >\n        {isMobileMenuOpen ? <X className=\"h-6 w-6\" /> : <Menu className=\"h-6 w-6\" />}\n      </button>\n\n      {/* サイドバー */}\n      <aside className={`\n        fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200\n        transform transition-transform duration-300 ease-in-out\n        ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'}\n        lg:translate-x-0 lg:static lg:inset-auto\n      `}>\n        <div className=\"flex flex-col h-full\">\n          <div className=\"p-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">アサイン管理</h2>\n          </div>\n\n          <nav className=\"flex-1 px-4 pb-4\">\n            <ul className=\"space-y-2\">\n              {menuItems.map((item) => {\n                const Icon = item.icon\n                const isActive = pathname === item.href\n                return (\n                  <li key={item.href}>\n                    <Link\n                      href={item.href}\n                      onClick={handleLinkClick}\n                      className={`\n                        flex items-center gap-3 px-4 py-3 rounded-lg transition-colors\n                        ${isActive \n                          ? 'bg-blue-50 text-blue-600' \n                          : 'text-gray-600 hover:bg-gray-50'\n                        }\n                      `}\n                    >\n                      <Icon className=\"h-5 w-5\" />\n                      <span className=\"font-medium\">{item.label}</span>\n                    </Link>\n                  </li>\n                )\n              })}\n            </ul>\n\n            {/* 管理者メニュー - 管理者のみ表示 */}\n            {!isLoading && userRole === 'admin' && (\n              <div className=\"mt-8\">\n                <h3 className=\"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                  管理者\n                </h3>\n                <ul className=\"mt-3 space-y-2\">\n                  {adminMenuItems.map((item) => {\n                    const Icon = item.icon\n                    const isActive = pathname === item.href\n                    return (\n                      <li key={item.href}>\n                        <Link\n                          href={item.href}\n                          onClick={handleLinkClick}\n                          className={`\n                            flex items-center gap-3 px-4 py-3 rounded-lg transition-colors\n                            ${isActive \n                              ? 'bg-blue-50 text-blue-600' \n                              : 'text-gray-600 hover:bg-gray-50'\n                            }\n                          `}\n                        >\n                          <Icon className=\"h-5 w-5\" />\n                          <span className=\"font-medium\">{item.label}</span>\n                        </Link>\n                      </li>\n                    )\n                  })}\n                </ul>\n              </div>\n            )}\n          </nav>\n\n          <div className=\"p-4 border-t border-gray-200\">\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center gap-3 w-full px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors\"\n            >\n              <LogOut className=\"h-5 w-5\" />\n              <span className=\"font-medium\">ログアウト</span>\n            </button>\n          </div>\n        </div>\n      </aside>\n\n      {/* モバイル用オーバーレイ */}\n      {isMobileMenuOpen && (\n        <div\n          className=\"lg:hidden fixed inset-0 z-30 bg-black bg-opacity-50\"\n          onClick={() => setIsMobileMenuOpen(false)}\n        />\n      )}\n    </>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}